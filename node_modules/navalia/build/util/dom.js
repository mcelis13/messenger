"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function waitForElement(selector, timeout) {
    return new Promise((resolve, reject) => {
        const timeOutId = setTimeout(() => {
            reject(`Selector "${selector}" failed to appear in ${timeout} ms`);
        }, timeout);
        if (document.querySelector(selector))
            return resolve();
        const observer = new MutationObserver(function (_mutations, observation) {
            const found = document.querySelector(selector);
            if (found) {
                observation.disconnect();
                clearTimeout(timeOutId);
                return resolve();
            }
        });
        observer.observe(document, {
            childList: true,
            subtree: true,
        });
    });
}
exports.waitForElement = waitForElement;
function getPageURL() {
    return document.location.href;
}
exports.getPageURL = getPageURL;
function click(selector) {
    const element = document.querySelector(selector);
    if (!element) {
        throw new Error(`:click() > Unable to find element by selector: ${selector}`);
    }
    const event = document.createEvent('MouseEvent');
    event.initEvent('click', true, true);
    element.dispatchEvent(event);
    return true;
}
exports.click = click;
function html(selector) {
    const element = document.querySelector(selector);
    if (!element) {
        throw new Error(`:html() > Unable to find element by selector: ${selector}`);
    }
    return element.outerHTML;
}
exports.html = html;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWwvZG9tLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsd0JBQ0UsUUFBZ0IsRUFDaEIsT0FBZTtJQUVmLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUNyQyxNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2hDLE1BQU0sQ0FBQyxhQUFhLFFBQVEseUJBQXlCLE9BQU8sS0FBSyxDQUFDLENBQUM7UUFDckUsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBRVosRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUV2RCxNQUFNLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDLFVBQVMsVUFBVSxFQUFFLFdBQVc7WUFDcEUsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMvQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNWLFdBQVcsQ0FBQyxVQUFVLEVBQUUsQ0FBQztnQkFDekIsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN4QixNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbkIsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBR0gsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7WUFDekIsU0FBUyxFQUFFLElBQUk7WUFDZixPQUFPLEVBQUUsSUFBSTtTQUNkLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQTFCRCx3Q0EwQkM7QUFFRDtJQUNFLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztBQUNoQyxDQUFDO0FBRkQsZ0NBRUM7QUFFRCxlQUFzQixRQUFnQjtJQUNwQyxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2pELEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNiLE1BQU0sSUFBSSxLQUFLLENBQ2Isa0RBQWtELFFBQVEsRUFBRSxDQUM3RCxDQUFDO0lBQ0osQ0FBQztJQUNELE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDakQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JDLE9BQU8sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNkLENBQUM7QUFYRCxzQkFXQztBQUVELGNBQXFCLFFBQWdCO0lBQ25DLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDakQsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ2IsTUFBTSxJQUFJLEtBQUssQ0FDYixpREFBaUQsUUFBUSxFQUFFLENBQzVELENBQUM7SUFDSixDQUFDO0lBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDM0IsQ0FBQztBQVJELG9CQVFDIn0=
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql_1 = require("graphql");
const dom_types_1 = require("../dom-types");
exports.attr = {
    type: new graphql_1.GraphQLObjectType({
        name: 'attr',
        fields: () => ({
            value: {
                type: graphql_1.GraphQLString,
                description: `The value of the attribute you've queried for.`,
            },
        }),
    }),
    description: `The attr method operates similarly to the jQuery attr method, and return the value of an attribute of a DOM element. Itâ€™s called with 2 parameters: the css-style selector of the element you wish to query, and the attribute you want to retrieve.`,
    args: Object.assign({}, dom_types_1.domArgs, { selector: {
            description: `The selector you want to target (eg: '.buy-it-now')`,
            type: new graphql_1.GraphQLNonNull(graphql_1.GraphQLString),
        }, attribute: {
            description: `The attribute you want`,
            type: new graphql_1.GraphQLNonNull(graphql_1.GraphQLString),
        } }),
    resolve(_, args, context) {
        const { loader } = context;
        return loader.run(chrome => {
            return chrome
                .attr(args.selector, args.attribute, {
                wait: args.wait,
                timeout: args.timeout,
            })
                .then(value => {
                return { value };
            });
        });
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0ci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ncmFwaHFsL3R5cGVzL2F0dHIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxQ0FBMkU7QUFDM0UsNENBQXVDO0FBRTFCLFFBQUEsSUFBSSxHQUFHO0lBQ2xCLElBQUksRUFBRSxJQUFJLDJCQUFpQixDQUFDO1FBQzFCLElBQUksRUFBRSxNQUFNO1FBQ1osTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDYixLQUFLLEVBQUU7Z0JBQ0wsSUFBSSxFQUFFLHVCQUFhO2dCQUNuQixXQUFXLEVBQUUsZ0RBQWdEO2FBQzlEO1NBQ0YsQ0FBQztLQUNILENBQUM7SUFDRixXQUFXLEVBQUUsc1BBQXNQO0lBQ25RLElBQUksb0JBQ0MsbUJBQU8sSUFDVixRQUFRLEVBQUU7WUFDUixXQUFXLEVBQUUscURBQXFEO1lBQ2xFLElBQUksRUFBRSxJQUFJLHdCQUFjLENBQUMsdUJBQWEsQ0FBQztTQUN4QyxFQUNELFNBQVMsRUFBRTtZQUNULFdBQVcsRUFBRSx3QkFBd0I7WUFDckMsSUFBSSxFQUFFLElBQUksd0JBQWMsQ0FBQyx1QkFBYSxDQUFDO1NBQ3hDLEdBQ0Y7SUFDRCxPQUFPLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPO1FBQ3RCLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUM7UUFFM0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDekIsTUFBTSxDQUFDLE1BQU07aUJBQ1YsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDbkMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO2dCQUNmLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTzthQUN0QixDQUFDO2lCQUNELElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDWixNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQztZQUNuQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGLENBQUMifQ==
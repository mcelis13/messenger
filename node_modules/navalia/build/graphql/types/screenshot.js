"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql_1 = require("graphql");
exports.screenshot = {
    type: new graphql_1.GraphQLObjectType({
        name: 'screenshot',
        fields: () => ({
            screenshot: {
                type: graphql_1.GraphQLString,
                description: `The base64 encoded PNG of the screenshot.`,
            },
        }),
    }),
    description: `The screenshot method will return a base-64 encoded string representing a png of the site`,
    resolve(_, _args, context) {
        const { loader } = context;
        return loader.run(chrome => {
            return chrome.screenshot().then(buffer => {
                return { screenshot: buffer.toString('base64') };
            });
        });
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyZWVuc2hvdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ncmFwaHFsL3R5cGVzL3NjcmVlbnNob3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxQ0FBMkQ7QUFFOUMsUUFBQSxVQUFVLEdBQUc7SUFDeEIsSUFBSSxFQUFFLElBQUksMkJBQWlCLENBQUM7UUFDMUIsSUFBSSxFQUFFLFlBQVk7UUFDbEIsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDYixVQUFVLEVBQUU7Z0JBQ1YsSUFBSSxFQUFFLHVCQUFhO2dCQUNuQixXQUFXLEVBQUUsMkNBQTJDO2FBQ3pEO1NBQ0YsQ0FBQztLQUNILENBQUM7SUFDRixXQUFXLEVBQUUsMkZBQTJGO0lBQ3hHLE9BQU8sQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU87UUFDdkIsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQztRQUUzQixNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUN6QixNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDdkMsTUFBTSxDQUFDLEVBQUUsVUFBVSxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUNuRCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGLENBQUMifQ==
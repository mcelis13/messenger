{"ast":null,"code":"import _toConsumableArray from \"/Users/maddie/Desktop/messengerFront/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/maddie/Desktop/messengerFront/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/maddie/Desktop/messengerFront/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/maddie/Desktop/messengerFront/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/maddie/Desktop/messengerFront/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/maddie/Desktop/messengerFront/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/maddie/Desktop/messengerFront/src/components/SearchUser.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport User from './User';\nimport { getUsers as _getUsers } from '../actions/actions'; //on click will show the component with all users\n//will need to create a dispatch action that will fetch for all users\n// will need to create mapStateToProps to access the all users from state\n// will need to map through all the users recieved through props and turned\n//them into user components\n//this list will need a search feature to look for users in the application\n\nvar SearchUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchUser, _Component);\n\n  function SearchUser() {\n    var _this;\n\n    _classCallCheck(this, SearchUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchUser).call(this));\n\n    _this.handleChange = function (event) {\n      if (event.target.value === '') {\n        var copyArray = _toConsumableArray(_this.props.allUsers);\n\n        var withOutUser = copyArray.filter(function (user) {\n          return user._id !== _this.props.currentUser._id;\n        });\n\n        _this.setState({\n          filteredUsers: withOutUser\n        });\n      } else {\n        var newFilterTerm = event.target.value;\n\n        var _copyArray = _toConsumableArray(_this.props.allUsers);\n\n        var _withOutUser = _copyArray.filter(function (user) {\n          return user._id !== _this.props.currentUser._id;\n        });\n\n        var filtered = _withOutUser.filter(function (user) {\n          return user.profile.firstName.toLowerCase().includes(newFilterTerm.toLowerCase()) || user.profile.lastName.toLowerCase().includes(newFilterTerm.toLowerCase());\n        });\n\n        _this.setState({\n          filteredUsers: filtered\n        });\n      }\n    };\n\n    _this.returnFilteredUsers = function () {\n      var userComponents = _this.state.filteredUsers.map(function (user) {\n        return React.createElement(User, {\n          key: user._id,\n          user: user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        });\n      });\n\n      return userComponents;\n    };\n\n    _this.handleMouseDown = function (event) {\n      _this.setState({\n        filteredUsers: []\n      });\n    };\n\n    _this.state = {\n      searchInput: '',\n      filteredUsers: []\n    };\n    return _this;\n  }\n\n  _createClass(SearchUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getUsers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        onMouseDown: this.handleMouseDown,\n        className: \"ui search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleChange,\n        className: \"prompt\",\n        type: \"text\",\n        placeholder: \"Find a friend and Chat\",\n        name: this.state.searchInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), this.returnFilteredUsers());\n    }\n  }]);\n\n  return SearchUser;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nvar dispatchStateToProps = function dispatchStateToProps(dispatch) {\n  return {\n    getUsers: function getUsers(state) {\n      return dispatch(_getUsers(state));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, dispatchStateToProps)(SearchUser);","map":{"version":3,"sources":["/Users/maddie/Desktop/messengerFront/src/components/SearchUser.js"],"names":["React","Component","connect","User","getUsers","SearchUser","handleChange","event","target","value","copyArray","props","allUsers","withOutUser","filter","user","_id","currentUser","setState","filteredUsers","newFilterTerm","filtered","profile","firstName","toLowerCase","includes","lastName","returnFilteredUsers","userComponents","state","map","handleMouseDown","searchInput","mapStateToProps","dispatchStateToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport User from './User';\nimport {getUsers} from '../actions/actions'\n\n//on click will show the component with all users\n  //will need to create a dispatch action that will fetch for all users\n  // will need to create mapStateToProps to access the all users from state\n  // will need to map through all the users recieved through props and turned\n  //them into user components\n  //this list will need a search feature to look for users in the application\n\nclass SearchUser extends Component {\n\n  constructor(){\n    super()\n    this.state = {\n      searchInput:'',\n      filteredUsers: []\n    }\n  }\n\n  componentDidMount(){\n    this.props.getUsers();\n  }\n\n  handleChange = (event)  => {\n    if (event.target.value === ''){\n      let copyArray = [...this.props.allUsers]\n      let withOutUser = copyArray.filter((user) => user._id !== this.props.currentUser._id)\n      this.setState({filteredUsers: withOutUser})\n    }else{\n      const newFilterTerm = event.target.value;\n      let copyArray = [...this.props.allUsers]\n      let withOutUser = copyArray.filter((user) => user._id !== this.props.currentUser._id)\n      const filtered = withOutUser.filter((user) => user.profile.firstName.toLowerCase().includes(newFilterTerm.toLowerCase()) || user.profile.lastName.toLowerCase().includes(newFilterTerm.toLowerCase()))\n      this.setState({filteredUsers: filtered})\n    }\n  }\n\n  returnFilteredUsers = () => {\n    let userComponents = this.state.filteredUsers.map((user) => <User key={user._id} user={user}/>)\n    return userComponents;\n  }\n\n  handleMouseDown = (event) => {\n    this.setState({filteredUsers: []})\n  }\n\n  render(){\n    return (\n      <div onMouseDown={this.handleMouseDown} className=\"ui search\">\n        <input onChange={this.handleChange} className=\"prompt\" type=\"text\" placeholder=\"Find a friend and Chat\" name={this.state.searchInput}/>\n        <div className=\"results\"></div>\n          {this.returnFilteredUsers()}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return state\n}\n\nconst dispatchStateToProps = (dispatch) => {\n  return { getUsers: (state) => dispatch(getUsers(state))}\n}\n\nexport default connect(mapStateToProps, dispatchStateToProps)(SearchUser);\n"]},"metadata":{},"sourceType":"module"}